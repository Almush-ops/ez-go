---
interface Props {
  title: string;
  slug: string;
  category: 'electric' | 'gas' | 'cargo' | 'industrial';
  seats: number;
  image?: string;
  badge?: string;
}

const { title, slug, category, seats, image, badge } = Astro.props;

const categoryColors: Record<string, string> = {
  'electric': 'bg-ezgo-100 text-ezgo-700',
  'gas': 'bg-amber-100 text-amber-700',
  'cargo': 'bg-green-100 text-green-700',
  'industrial': 'bg-gray-100 text-gray-700',
};

const categoryLabels: Record<string, string> = {
  'electric': 'חשמלי',
  'gas': 'בנזין',
  'cargo': 'משא',
  'industrial': 'תעשייה',
};
---

<a href={`/models/${slug}/`} class="group block bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1.5 border border-gray-100 hover:border-ezgo-200">
  <!-- Image -->
  <div class="aspect-[4/3] bg-gradient-to-br from-gray-50 via-surface to-gray-100 overflow-hidden relative">
    {image ? (
      <img
        src={image}
        alt={`רכב תפעולי ${title} - E-Z-GO`}
        class="w-full h-full object-contain p-4 group-hover:scale-105 transition-transform duration-500"
        loading="lazy"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center">
        <p class="text-sm text-gray-400">{title}</p>
      </div>
    )}
    {badge && (
      <span class="absolute top-3 start-3 bg-ezgo-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-md">
        {badge}
      </span>
    )}
    <div class="absolute top-3 end-3 flex gap-1.5">
      <span class:list={['text-xs font-semibold px-2.5 py-1 rounded-full shadow-sm backdrop-blur-sm', categoryColors[category]]}>
        {categoryLabels[category]}
      </span>
    </div>
    <div class="absolute inset-0 bg-ezgo-500/0 group-hover:bg-ezgo-500/5 transition-colors duration-300"></div>
  </div>

  <!-- Info -->
  <div class="p-5">
    <h3 class="font-bold text-dark text-lg mb-1 group-hover:text-ezgo-600 transition-colors duration-200">{title}</h3>
    <p class="text-sm text-gray-500 mb-3">{seats} מקומות ישיבה</p>
    <div class="flex items-center justify-between pt-3 border-t border-gray-100 group-hover:border-ezgo-100 transition-colors">
      <span class="text-ezgo-600 font-semibold text-sm">לפרטים והצעת מחיר</span>
      <span class="w-10 h-10 rounded-full bg-ezgo-50 flex items-center justify-center group-hover:bg-ezgo-500 group-hover:scale-110 transition-all duration-300">
        <svg class="w-5 h-5 text-ezgo-600 group-hover:text-white transition-colors rtl:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </span>
    </div>
  </div>
</a>
